<!DOCTYPE html>
<!--[if lt IE 7 ]><html class="ie ie6" lang="en"> <![endif]-->
<!--[if IE 7 ]><html class="ie ie7" lang="en"> <![endif]-->
<!--[if IE 8 ]><html class="ie ie8" lang="en"> <![endif]-->
<!--[if (gte IE 9)|!(IE)]><!--><html lang="en"> <!--<![endif]-->
<head>

<!-- Extra Header for IPython Notebooks
================================================== -->
  <link href="//cdn-images.mailchimp.com/embedcode/slim-081711.css" rel="stylesheet" type="text/css">
  <style type="text/css">
    #mc_embed_signup{background:#fff; clear:left; font:14px Helvetica,Arial,sans-serif;  width:500px;}
    /*
      Add your own MailChimp form style overrides in your site stylesheet or in this style block.
      We recommend moving this block and the preceding CSS link to the HEAD of your HTML file.
     */
  </style>

	<!-- Basic Page Needs
  ================================================== -->
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
  <meta name="google-site-verification" content="AgIAQN_qsniIQWOq659Bnhzx-LZts2FdgP1kLgtQg-k" />

  <title>Heatmap of all Arsenal games</title>

  <meta name="description" content="">
  <meta name="author" content="SentimenalArse">

  <!-- Mobile Specific Metas
  ================================================== -->
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

  <!-- Fonts 
  ================================================== -->
  <link href='http://fonts.googleapis.com/css?family=Raleway:400,300,600|Source+Code+Pro' rel='stylesheet' type='text/css'>

  <!-- CSS
  ================================================== -->
  <link rel="stylesheet" href="/theme/webassets-external/84ea40013b81b143401835db38849a2a_base.css">
  <link rel="stylesheet" href="/theme/webassets-external/1d22ba39a8a5bf5293d08f5b0491b56e_skeleton.css">
  <link rel="stylesheet" href="/theme/webassets-external/262b15784b0d58dca9f1c40f923d856d_layout.css">
  <link rel="stylesheet" href="/theme/webassets-external/e6ad4a4b9546fa330a6f02e7ebe4040d_void.css">
  <link rel="stylesheet" href="/theme/webassets-external/60eef9e0acf00caa56af1fd7ac0da062_pygment.css">
  <link href="//maxcdn.bootstrapcdn.com/font-awesome/4.2.0/css/font-awesome.min.css" rel="stylesheet">



	<!--[if lt IE 9]>
		<script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
	<![endif]-->


	<!-- Favicons
	================================================== -->
	<link rel="shortcut icon" href="/theme/images/favicon.ico">
	<link rel="apple-touch-icon" href="/theme/images/apple-touch-icon.png">
	<link rel="apple-touch-icon" sizes="72x72" href="/theme/images/apple-touch-icon-72x72.png">
	<link rel="apple-touch-icon" sizes="114x114" href="/theme/images/apple-touch-icon-114x114.png">
        <script src="https://cdnjs.cloudflare.com/ajax/libs/d3/3.5.6/d3.min.js" charset="utf-8"></script>
        <style>
            rect.selection {
                stroke          : #333;
                stroke-dasharray: 4px;
                stroke-opacity  : 0.5;
                fill            : transparent;
            }
            box:hover {
              fill: orangered ;
            }
            
            div.tooltip {   
              position: absolute;           
              text-align: center;           
              width: 95px;                  
              height: 33px;                 
              padding: 2px;             
              font-size: 8px;        
              background: lightsteelblue;   
              border: 0px;      
              border-radius: 8px;           
              pointer-events: none;         
            }
        </style>

</head>
<body>
	<!-- Primary Page Layout
	================================================== -->
	<div class="container">
<!-- Navigation
================================================== -->
<nav class="navbar">
  <div class="navbar-brand six columns"> <!-- Yes, I know this is a douchey class name -->
      <ul>
        <li>
        <a href="/" title="Home"><img id="logo" src="/theme/images/avatar.jpg" alt="Red Canon goes here"></a>
        </li>
        <li>
          <h1><a href="/" title="Home">Sentimental Arse</a></h1>
        </li>
      </ul>
    </div> <!-- End navbar-brand -->

  <div class="navbar-links">
      <ul>
          <!--  <li><a href="/blog/">Blog</a></li> -->
      </ul> <!-- End navbar-links ul -->
    </div> <!-- End navbar-links -->
</nav> <!-- End navbar -->		<section id="content" class="twelve columns">

  <!-- Article Headers
  ================================================================== -->
  <h1 class="article-title"><a href="/heatmap-of-all-arsenal-games.html" title="Permalink to Heatmap of all Arsenal games">Heatmap of all Arsenal games</a></h1>
  <h5 class="article-date">October 19, 2015
 | Tags:         <a class="tag" href="/tag/visualization.html" rel="tag" title="Posts tagged with ">Visualization</a>
        <a class="tag" href="/tag/heatmap.html" rel="tag" title="Posts tagged with ">heatmap</a>
  </h5>
  <hr class="small"></hr>

  <!-- Article Content
  ================================================================== -->
  <div class="article-content">
    
        <div id="chart"></div>
    
  </div>

  <div class="article-sharing">
    <hr class="small"></hr>


    <!-- Back to home
    ================================================================== -->
    <div class="back-to-home">
      <a href="/">‚Üê Back to Home</a>
    </div>
    <hr class="small"></hr>
  </div>
    <script>
        var dataFile = "arsenal_result";
        var margin = { top: 25, right: 0, bottom: 50, left: 15 },
          width = 480 - margin.left - margin.right,
          height = 800 - margin.top - margin.bottom,
          boxWidth = 8,
          boxHeight = 8,
          gridSize = 60,
          rows = 50,
          strokeColor = "#E6E6E6",
          strokeWidth = 1,
          colors = ["#449458", "#edebe8", "#f17f51"];
        
        var svg = d3.select("#chart").append("svg")
          .attr("width", width + margin.left + margin.right)
          .attr("height", height + margin.top + margin.bottom)
          .append("g");
        
        
        
        d3.csv(dataFile, function(csvData) {
            var data = csvData;
            svg.selectAll(".box")
              .data(data)
              .enter()
              .append('rect')
              .attr('class', 'box')
              .attr('x', function(d, i) { return (i % gridSize) * boxWidth; })
              .attr('y', function(d, i) { return Math.floor(i/gridSize) * boxHeight; })
              .attr('width', boxWidth)
              .attr('height', boxHeight)
              .style('fill', function(d, i) {
                                        var index = d["ArsenalWin"];
                                        return colors[index];
                            })
              .style('opacity', 0.9)
              .style("stroke-width", strokeWidth)
              .style("stroke", strokeColor )
              .on('mousemove', function(d){mousemove(d)})
              .on("mouseover", mouseover)
              .on("mouseout", mouseout);
            
            var div = d3.select("body").append("div")
            .attr("class", "tooltip")
            .style("opacity", 1e-6);

            function mousemove(d){
                div
                .html("Date: " + d["match_date"] + "<br/>"  + "Home: " + d.home
                     + "<br/>" + "Score: " + d.fulltime)
                .style("left", (d3.event.pageX ) + "px")
                .style("top", (d3.event.pageY) + "px");
            }

            function mouseover() {
                div.transition()
                .duration(300)
                .style("opacity", 1);
            }

            function mouseout() {
                div.transition()
                .duration(300)
                .style("opacity", 1e-6);
            }
        });
  </script>
  <script>
    // hide ipython notebook cell numbers
  $('div.prompt').hide();
  $('div.cell').css('margin', '0');
  </script>
		</section>
<!-- Navigation
================================================== -->
<footer class="twelve columns">
	<!-- <hr class="small"> -->
  <p>Generated with <a href="http://getpelican.com">Pelican</a>. Layout done with <a href="http://getskeleton.com">Skeleton</a>. Icons are <a href="http://fortawesome.github.com/Font-Awesome/">Font Awesome</a>.</p>
  <p>&copy; Copyright SentimenalArse, 2015 to present</p>
</footer>	</div><!-- container -->

<!-- Google Analytics
================================================== -->
<script type="text/javascript">

  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-66840105-1']);
  _gaq.push(['_setDomainName', 'sentimentalarse.com']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();

</script>

  <script type="text/javascript">
    $("a").on('click', function(e) {
      var url = $(this).attr("href");
      console.log(url);
      if (e.currentTarget.host != window.location.host) {
        _gaq.push(['_trackEvent', 'Outbound Links', e.currentTarget.host, url, 0]);
        if (e.metaKey || e.ctrlKey) {
          var newtab = true;
        }
        if (!newtab) {
          e.preventDefault();
          setTimeout('document.location = "' + url + '"', 100);
        }
      }
    });
  </script>
</body> <!-- End body -->

<!-- JavaScript
=================================================== -->
<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
<script type="text/javascript" async src="//cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>


</html>
